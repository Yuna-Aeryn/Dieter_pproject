// ... inside app.post('/get-recommendation')

    // 3. Process the data (Apply the fix here)
    if (recommendations && recommendations.length > 0) {
        const safeList = recommendations.map(item => {
            
            // ðŸ”¥ FIX: Remove underscore and swap order
            let cleanName = item.recommend_menu;
            if (cleanName && cleanName.includes('_')) {
                cleanName = cleanName.split('_').reverse().join(' ');
            }

            return {
                menuName: cleanName, // Use the cleaned name
                calories: extractNumber(item.calorie),
                reason: item.reason,
                score: extractNumber(item.score)
            };
        });

        const combinedTitle = safeList.map((item, idx) => `${idx+1}. ${item.menuName}`).join(' / ');
        
        // Update reason text to use the clean name too
        const combinedReason = safeList.map((item, idx) => 
            `[${idx+1}ìœ„] ${item.menuName} (${item.calories}kcal)\nðŸ‘‰ ${item.reason}`
        ).join('\n\n');

        res.status(200).json({
            menuName: combinedTitle,
            calories: safeList[0].calories,
            reason: combinedReason
        });
    } else {
        // ...